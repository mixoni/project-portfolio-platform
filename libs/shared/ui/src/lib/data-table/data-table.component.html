<div class="pp-table-wrapper" [class.pp-loading]="loading">
  <ng-container *ngIf="loading; else tableContent">
    <div class="pp-skeleton-row" *ngFor="let _ of [0, 1, 2, 3]">
      <div class="pp-skeleton-cell" *ngFor="let __ of columns"></div>
    </div>
  </ng-container>

  <ng-template #tableContent>
    <table class="pp-table" *ngIf="columns?.length; else noColumns">
      <thead>
        <tr>
          <th *ngFor="let col of columns">
            {{ col.header }}
          </th>
        </tr>
      </thead>

      <tbody>
        <tr
          *ngFor="let row of rows; trackBy: trackByIndex"
          (click)="onRowClicked(row)"
          [class.pp-row-clickable]="clickableRows"
        >
          <td *ngFor="let col of columns">
            {{
              getCell(row, col)
                | displayValue:
                    (col.emptyPlaceholder || 'â€”'):
                    (col.format || 'text'):
                    undefined:
                    (col.currency || 'EUR')
            }}
          </td>
        </tr>

        <tr *ngIf="rows.length === 0">
          <td [attr.colspan]="columns.length" class="pp-empty">
            {{ emptyMessage }}
          </td>
        </tr>
      </tbody>
    </table>
  </ng-template>

  <ng-template #noColumns>
    <div class="pp-empty">
      No columns configured
    </div>
  </ng-template>
</div>
